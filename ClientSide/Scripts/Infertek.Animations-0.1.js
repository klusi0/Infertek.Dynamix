function IndexOutOfRangeException(b,a){Error.call(this,b,a)}IndexOutOfRangeException.prototype=new Error();function InvalidOperationException(b,a){Error.call(this,b,a)}InvalidOperationException.prototype=new Error();function NullReferenceException(b,a){Error.call(this,b,a)}NullReferenceException.prototype=new Error();Namespace.Register("Infertek.Animations");Infertek.Animations.PropertyValueAnimators={GetAnimatorFunctionByName:function(a){if(a=="numeric"){return NumericValueAnimator}if(a=="size"){return SizeAnimator}throw new InvalidOperationException("Invlaid value animator function name: "+a)},NumericValueAnimator:function(b,c,a){return Math.round(b+((c-b)*a))},SizeAnimator:function(d,e,c){var b=e.length;var f=Number(d.substr(0,d.length-2));var a=Number(e.substr(0,b-2));return window.Infertek.Animations.PropertyValueAnimators.NumericValueAnimator(f,a,c)+e.substr(b-2,2)},ColorAnimator:function(b,c,a){return a>=1?c:b},OtherAnimator:function(b,c,a){return a>=1?c:b}};Namespace.Register("Infertek.Animations");Infertek.Animations.FrameBlendingFunctions={GetBlendingByName:function(a){if(a=="linear"){return LinearBlending}throw new InvalidOperationException("Invlaid blending function name: "+a)},LinearBlending:function(b,a){return(a-b.getOffset())/b.getDuration()}};Namespace.Register("Infertek.Animations");Infertek.Animations.AnimationKeframe=function(b,a){this.duration=0;this.blendingFunction=window.Infertek.Animations.FrameBlendingFunctions.LinearBlending;this.offset=0;this.targetValue=null;this.valueAnimatorFunction=b;if(a!=null){if(a.duration!=null){this.duration=a.duration}if(a.blending!=null){this.blendingFunction=window.Infertek.Animations.FrameBlendingFunctions.GetBlendingByName(a.blending)}if(a.offset!=null){this.offset=a.offset}if(a.targetValue!=null){this.targetValue=a.targetValue}}};Infertek.Animations.AnimationKeframe.prototype={animateValue:function(b,a){return this.valueAnimatorFunction(b,this.getTargetValue(),this.blendingFunction(this,a))},getDuration:function(){return this.duration},getOffset:function(){return this.offset},getTargetValue:function(){return this.targetValue}};Namespace.Register("Infertek.Animations");Infertek.Animations.AnimationProperty=function(b,a){this.animation=b;this.animationDirection=1;this.elementSelector=null;this.propertyName=null;this.totalAnimationTime=0;this.keyframes=[];if(a!=null){if(a.elementSelector!=null){this.elementSelector=a.elementSelector}if(a.propertyName!=null){this.propertyName=a.propertyName;this.initializeValueAnimatorFunction()}if(a.startupValue!=null){this.propertyStartupValue=a.startupValue}if(a.keyframes!=null&&Array.isArray(a.keyframes)){this.loadKeyframes(a.keyframes)}}this.loadAnimatedElement();if(this.propertyStartupValue==null){this.initializeStartupValue()}};Infertek.Animations.AnimationProperty.prototype={initializeStartupValue:function(){this.propertyStartupValue=this.animatedElement.css(this.propertyName)},getElementSelector:function(){return this.elementSelector},getPropertyName:function(){return this.propertyName},getTotalAnimationTime:function(){return this.totalAnimationTime},initializeValueAnimatorFunction:function(){switch(this.propertyName){case"background-color":case"border-bottom-color":case"border-top-color":case"border-left-color":case"border-right-color":case"border-color":case"color":this.valueAnimatorFunction=window.Infertek.Animations.PropertyValueAnimators.ColorAnimator;break;case"border-bottom-width":case"border-top-width":case"border-left-width":case"border-right-width":case"border-width":case"outline-width":case"border-bottom-left-radius":case"border-bottom-right-radius":case"border-top-left-radius":case"border-top-right-radius":case"border-image-width":case"width":case"height":case"min-width":case"min-height":case"max-width":case"max-height":case"font-size":case"margin-bottom":case"margin-top":case"margin-left":case"margin-right":case"padding-bottom":case"padding-top":case"padding-left":case"padding-right":case"bottom":case"top":case"left":case"right":case"z-index":this.valueAnimatorFunction=window.Infertek.Animations.PropertyValueAnimators.SizeAnimator;break;default:this.valueAnimatorFunction=window.Infertek.Animations.PropertyValueAnimators.OtherAnimator}},loadAnimatedElement:function(){if(this.elementSelector==null||this.elementSelector==""){this.animatedElement=this.animation.getAnimatedElement()}else{this.animatedElement=jQuery(this.elementSelector,this.animation.getAnimatedElement())}},loadKeyframes:function(b){for(var a in b){var c=new window.Infertek.Animations.AnimationKeframe(this.valueAnimatorFunction,b[a]);this.keyframes.push(c);this.totalAnimationTime+=c.getDuration()+c.getOffset()}},processAnimation:function(a){if(!this.animationHasEnded){if(a<=this.totalAnimationTime){this.animatedElement.css(this.propertyName,this.processAnimationFunction(a))}else{if(this.animationDirection==1){this.animatedElement.css(this.propertyName,this.keyframes[this.keyframes.length-1].getTargetValue())}else{this.animatedElement.css(this.propertyName,this.keyframes[0].getTargetValue())}this.animationHasEnded=true}}},processAnimationBackward:function(b){var a=this.totalAnimationTime-b;if(this.elapsedAnimationTime+this.currentKeyframe.getDuration()>=a){if(this.currentKeyframeIndex==0){return this.currentKeyframe.animateValue(this.propertyStartupValue,b)}return this.currentKeyframe.animateValue(this.keyframes[this.currentKeyframeIndex-1].getTargetValue(),this.currentKeyframe.getDuration()+this.currentKeyframe.getOffset()-(a-this.elapsedAnimationTime))}else{if(this.elapsedAnimationTime+this.currentKeyframe.getOffset()+this.currentKeyframe.getDuration()>=a){if(this.currentKeyframeIndex==0){return this.propertyStartupValue}return this.keyframes[this.currentKeyframeIndex-1].getTargetValue()}else{if(this.currentKeyframeIndex>0){do{this.elapsedAnimationTime+=this.currentKeyframe.getDuration()+this.currentKeyframe.getOffset();this.currentKeyframe=this.keyframes[--this.currentKeyframeIndex];if(this.elapsedAnimationTime+this.currentKeyframe.getDuration()>=a){if(this.currentKeyframeIndex==0){return this.currentKeyframe.animateValue(this.propertyStartupValue,this.currentKeyframe.getDuration()+this.currentKeyframe.getOffset()-(a-this.elapsedAnimationTime))}return this.currentKeyframe.animateValue(this.keyframes[this.currentKeyframeIndex-1].getTargetValue(),this.currentKeyframe.getDuration()+this.currentKeyframe.getOffset()-(a-this.elapsedAnimationTime))}else{if(this.elapsedAnimationTime+this.currentKeyframe.getDuration()+this.currentKeyframe.getOffset()>=a){if(this.currentKeyframeIndex==0){return this.propertyStartupValue}return this.keyframes[this.currentKeyframeIndex-1].getTargetValue()}}}while(this.currentKeyframeIndex>1);this.animationHasEnded=true;return this.propertyStartupValue}else{this.animationHasEnded=true;return this.propertyStartupValue}}}},processAnimationForward:function(a){if(this.elapsedAnimationTime+this.currentKeyframe.getOffset()>=a){if(this.currentKeyframeIndex==0){return this.propertyStartupValue}return this.keyframes[this.currentKeyframeIndex-1].getTargetValue()}else{if(this.elapsedAnimationTime+this.currentKeyframe.getOffset()+this.currentKeyframe.getDuration()>=a){if(this.currentKeyframeIndex==0){return this.currentKeyframe.animateValue(this.propertyStartupValue,a)}return this.currentKeyframe.animateValue(this.keyframes[this.currentKeyframeIndex-1].getTargetValue(),a-this.elapsedAnimationTime)}else{do{this.elapsedAnimationTime+=this.currentKeyframe.getDuration()+this.currentKeyframe.getOffset();this.currentKeyframe=this.keyframes[++this.currentKeyframeIndex];if(this.elapsedAnimationTime+this.currentKeyframe.getOffset()>=a){return this.keyframes[this.currentKeyframeIndex-1].getTargetValue()}else{if(this.elapsedAnimationTime+this.currentKeyframe.getDuration()+this.currentKeyframe.getOffset()>=a){return this.currentKeyframe.animateValue(this.keyframes[this.currentKeyframeIndex-1].getTargetValue(),a-this.elapsedAnimationTime)}}}while(this.currentKeyframeIndex<this.keyframes.length-1);this.animationHasEnded=true;return this.keyframes[this.keyframes.length-1].getTargetValue()}}},startAnimation:function(a){if(this.keyframes!=null&&this.keyframes.length>0){this.animationDirection=a;this.animationHasEnded=false;this.elapsedAnimationTime=0;if(a==-1){this.processAnimationFunction=this.processAnimationBackward;this.currentKeyframeIndex=this.keyframes.length-1}else{this.processAnimationFunction=this.processAnimationForward;this.currentKeyframeIndex=0}this.currentKeyframe=this.keyframes[this.currentKeyframeIndex]}else{this.animationHasEnded=true}},stopAnimation:function(){this.animationHasEnded=true}};Namespace.Register("Infertek.Animations");Infertek.Animations.Animation=function(b,a){this.animatedElement=b;this.animationDirection=1;this.timeScale=1;this.properties=[];if(a!=null){if(a.animationDirection!=null){this.animationDirection=a.animationDirection}if(a.properties!=null&&Array.isArray(a.properties)){this.loadProperties(a.properties)}if(a.timeScale!=null){this.timeScale=a.timeScale}}};Infertek.Animations.Animation.prototype={getAnimatedElement:function(){return this.animatedElement},getAnimationDirection:function(){return this.animationDirection},loadProperties:function(a){for(var b in a){this.properties.push(new window.Infertek.Animations.AnimationProperty(this,a[b]))}},performAnimationFromStart:function(){for(var a in this.properties){this.properties[a].processAnimation(((+new Date())-this.animationStartTime)*this.timeScale)}},performAnimationFromEnd:function(){for(var a in this.properties){this.properties[a].processAnimation(this.properties[a].getTotalAnimationTime()-(((+new Date())-this.animationStartTime)*this.timeScale))}},reverse:function(){if(this.animationHasStarted){throw new InvalidOperationException("Cannot reverse already running animation!")}this.animationDirection*=-1},start:function(){var b=this;this.animationStartTime=+new Date();this.animationHasStarted=true;for(var a in this.properties){this.properties[a].startAnimation(this.animationDirection)}if(this.animationDirection==1){this.animationInterval=setInterval(function(){b.performAnimationFromStart()},10)}else{this.animationInterval=setInterval(function(){b.performAnimationFromEnd()},10)}},stop:function(){clearInterval(this.animationInterval);this.animationHasStarted=false}};